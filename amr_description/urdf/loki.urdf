<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from amr.xacro                      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="amr">
  <material name="silver">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>
  <transmission name="left_wheel_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="left_wheel_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="left_wheel_joint_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="right_wheel_joint_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="right_wheel_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="right_wheel_joint_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="control"/>
  </gazebo>
  <gazebo reference="base_link1">
    <material>Gazebo/Black</material>
    <mu1>0.1</mu1>
    <mu2>0.1</mu2>
    <self_collide>true</self_collide>
    <gravity>true</gravity>
  </gazebo>
  <gazebo reference="stand_1">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="left_wheel_1">
    <material>Gazebo/Black</material>
    <mu1>1500</mu1>
    <mu2>1500</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="right_wheel_1">
    <material>Gazebo/Black</material>
    <mu1>1500</mu1>
    <mu2>1500</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="lidar_1">
    <material>Gazebo/Black</material>
    <mu1>0.1</mu1>
    <mu2>0.1</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="wheel_drive_controller">
      <left_joint>left_wheel_joint</left_joint>
      <right_joint>right_wheel_joint</right_joint>
      <!-- kinematics -->
      <wheel_separation>0.16</wheel_separation>
      <wheel_diameter>0.076</wheel_diameter>
      <max_wheel_torque>100</max_wheel_torque>
      <max_wheel_acceleration>10.0</max_wheel_acceleration>
      <!-- odometry  -->
      <odometry_source>1</odometry_source>
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_footprint</robot_base_frame>
      <!-- topic & re remappings -->
      <ros>
        <namespace>amr</namespace>
        <remapping>/cmd_vel:=cmd_vel</remapping>
        <remapping>/odom:=odom</remapping>
      </ros>
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>
      <update_rate>100.0</update_rate>
      <!-- <update_rate>100.0</update_rate> -->
    </plugin>
  </gazebo>
  <gazebo reference="lidar_1">
    <sensor name="laser" type="ray">
      <pose> 0 0 0 0 0 0 </pose>
      <visualize>false</visualize>
      <update_rate>30</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <min_angle>-1.57</min_angle>
            <max_angle>1.57</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.2</min>
          <max>4</max>
        </range>
      </ray>
      <plugin filename="libgazebo_ros_ray_sensor.so" name="laser_controller">
        <ros>
          <remapping>~/out:=amr/scan</remapping>
        </ros>
        <output_type>sensor_msgs/LaserScan</output_type>
        <frame_name>lidar_1</frame_name>
      </plugin>
    </sensor>
  </gazebo>
  <gazebo reference="imu_link">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <always_on>true</always_on>
      <update_rate>100</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <ros>
          <remapping>~/out:=/imu</remapping>
        </ros>
        <!-- <topicName>imu</topicName> -->
        <bodyName>imu_link</bodyName>
        <updateRateHZ>10.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>imu_link</frameName>
        <initial_orientation_as_reference>false</initial_orientation_as_reference>
      </plugin>
      <pose>0 0 0 0 0 0</pose>
    </sensor>
  </gazebo>
  <link name="base_footprint">
  </link>
  <!-- BASE LINK -->
  <joint name="base_footprint_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
  </joint>
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.022903586756840077 -8.585965872614856e-05 0.06068484307006008"/>
      <mass value="57.754617991982215"/>
      <inertia ixx="0.22428" ixy="5e-05" ixz="0.002624" iyy="0.737627" iyz="1.7e-05" izz="0.85712"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="stand_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.1407316132710241 -0.04989790589762815 0.056176786804443116"/>
      <mass value="3.4017239840903604"/>
      <inertia ixx="0.010417" ixy="-4.9e-05" ixz="0.000128" iyy="0.049523" iyz="1.9e-05" izz="0.056376"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.122112 -0.04992 -0.108"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/stand_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.122112 -0.04992 -0.108"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/stand_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="left_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.442484340441087e-07 0.009838965876692293 6.938893903907228e-18"/>
      <mass value="0.6995541013126898"/>
      <inertia ixx="0.000272" ixy="0.0" ixz="-0.0" iyy="0.000499" iyz="0.0" izz="0.000272"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.017888 -0.07992 -0.038"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.017888 -0.07992 -0.038"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="right_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.4424843392267803e-07 -0.009838675682573725 -6.938893903907228e-18"/>
      <mass value="0.6995541013126898"/>
      <inertia ixx="0.000272" ixy="-0.0" ixz="-0.0" iyy="0.000499" iyz="0.0" izz="0.000272"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.017888 0.08008 -0.038"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.017888 0.08008 -0.038"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="lidar_1">
    <inertial>
      <origin rpy="0 0 0" xyz="1.5728070276721517e-07 1.4509705914942013e-07 0.012500000000000018"/>
      <mass value="0.18881462721926787"/>
      <inertia ixx="2.4e-05" ixy="-0.0" ixz="-0.0" iyy="2.4e-05" iyz="-0.0" izz="2.9e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.155849 8e-05 -0.058"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.155849 8e-05 -0.058"/>
      <geometry>
        <mesh filename="file:///home/loki/nikiro/install/amr_description/share/amr_description/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="imu_link">
    <!--  <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
        <box size="0.02 0.015 0.008"/>
      </geometry>
    </visual> -->
  </link>
  <joint name="imujoint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.2"/>
    <parent link="base_link"/>
    <child link="imu_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <joint name="stand_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.122112 0.04992 0.108"/>
    <parent link="base_link"/>
    <child link="stand_1"/>
  </joint>
  <joint name="left_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.017888 0.07992 0.038"/>
    <parent link="base_link"/>
    <child link="left_wheel_1"/>
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <joint name="right_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.017888 -0.08008 0.038"/>
    <parent link="base_link"/>
    <child link="right_wheel_1"/>
    <axis xyz="-0.0 1.0 0.0"/>
  </joint>
  <joint name="lidar_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.155849 -8e-05 0.058"/>
    <parent link="base_link"/>
    <child link="lidar_1"/>
  </joint>
</robot>
